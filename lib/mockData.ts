import { Patient } from "@/store/slices/patientSlice";
import { TrialResult } from "@/store/slices/testSessionSlice";

export const mockPatients: Patient[] = [
  {
    id: "p1",
    name: "김철수",
    birth: "1955-03-15",
    gender: "male",
    diagnosis: "뇌졸중 (좌측 편마비)",
    height: 170,
    weight: 68,
    legLength: 85,
    affectedSide: "left",
    assistiveDevice: "지팡이",
    afoUse: true,
    createdAt: "2024-01-10T09:00:00Z",
    updatedAt: "2024-01-20T14:30:00Z",
    lastTestDate: "2024-01-20",
    testCount: 5,
  },
  {
    id: "p2",
    name: "이영희",
    birth: "1962-07-22",
    gender: "female",
    diagnosis: "파킨슨병",
    height: 158,
    weight: 52,
    legLength: 78,
    affectedSide: "both",
    assistiveDevice: "없음",
    afoUse: false,
    createdAt: "2024-01-05T10:30:00Z",
    updatedAt: "2024-01-18T11:00:00Z",
    lastTestDate: "2024-01-18",
    testCount: 3,
  },
  {
    id: "p3",
    name: "박민호",
    birth: "1978-11-08",
    gender: "male",
    diagnosis: "척수손상 (불완전 손상)",
    height: 175,
    weight: 72,
    legLength: 88,
    affectedSide: "both",
    assistiveDevice: "워커",
    afoUse: true,
    createdAt: "2024-01-08T14:00:00Z",
    updatedAt: "2024-01-19T09:15:00Z",
    lastTestDate: "2024-01-19",
    testCount: 4,
  },
  {
    id: "p4",
    name: "정수진",
    birth: "1970-04-30",
    gender: "female",
    diagnosis: "고관절 전치환술 후",
    height: 162,
    weight: 58,
    legLength: 80,
    affectedSide: "right",
    assistiveDevice: "목발",
    afoUse: false,
    createdAt: "2024-01-12T08:45:00Z",
    updatedAt: "2024-01-21T10:00:00Z",
    lastTestDate: "2024-01-21",
    testCount: 2,
  },
  {
    id: "p5",
    name: "최동훈",
    birth: "1948-09-12",
    gender: "male",
    diagnosis: "노인성 보행장애",
    height: 165,
    weight: 60,
    legLength: 82,
    affectedSide: "none",
    assistiveDevice: "없음",
    afoUse: false,
    createdAt: "2024-01-15T11:20:00Z",
    updatedAt: "2024-01-22T15:45:00Z",
    lastTestDate: "2024-01-22",
    testCount: 6,
  },
];

export interface TestRecord {
  id: string;
  patientId: string;
  date: string;
  mode: "both" | "comfortable" | "fast";
  comfortableSpeed: number;
  fastSpeed: number;
  comfortableCadence: number;
  fastCadence: number;
  videoUrl?: string; // 녹화된 동영상 URL
  trials?: TrialResult[];
}

export const mockTestHistory: TestRecord[] = [
  {
    id: "t1",
    patientId: "p1",
    date: "2024-01-20",
    mode: "both" as const,
    comfortableSpeed: 0.72,
    fastSpeed: 0.95,
    comfortableCadence: 88,
    fastCadence: 108,
    videoUrl: "/videos/p1_20240120.mp4",
  },
  {
    id: "t2",
    patientId: "p1",
    date: "2024-01-15",
    mode: "both" as const,
    comfortableSpeed: 0.68,
    fastSpeed: 0.89,
    comfortableCadence: 84,
    fastCadence: 102,
    videoUrl: "/videos/p1_20240115.mp4",
  },
  {
    id: "t3",
    patientId: "p1",
    date: "2024-01-10",
    mode: "both" as const,
    comfortableSpeed: 0.62,
    fastSpeed: 0.82,
    comfortableCadence: 80,
    fastCadence: 96,
    videoUrl: "/videos/p1_20240110.mp4",
  },
  {
    id: "t4",
    patientId: "p1",
    date: "2024-03-05",
    mode: "both" as const,
    comfortableSpeed: 0.85,
    fastSpeed: 1.12,
    comfortableCadence: 95,
    fastCadence: 118,
    videoUrl: "/videos/p1_20240305.mp4",
  },
  {
    id: "t5",
    patientId: "p2",
    date: "2024-01-18",
    mode: "both" as const,
    comfortableSpeed: 0.58,
    fastSpeed: 0.75,
    comfortableCadence: 72,
    fastCadence: 88,
    videoUrl: "/videos/p2_20240118.mp4",
  },
  {
    id: "t6",
    patientId: "p2",
    date: "2024-02-20",
    mode: "both" as const,
    comfortableSpeed: 0.65,
    fastSpeed: 0.82,
    comfortableCadence: 78,
    fastCadence: 94,
    videoUrl: "/videos/p2_20240220.mp4",
  },
  {
    id: "t7",
    patientId: "p3",
    date: "2024-01-19",
    mode: "both" as const,
    comfortableSpeed: 0.45,
    fastSpeed: 0.58,
    comfortableCadence: 65,
    fastCadence: 78,
    videoUrl: "/videos/p3_20240119.mp4",
  },
  {
    id: "t8",
    patientId: "p5",
    date: "2024-01-22",
    mode: "both" as const,
    comfortableSpeed: 0.92,
    fastSpeed: 1.18,
    comfortableCadence: 98,
    fastCadence: 120,
    videoUrl: "/videos/p5_20240122.mp4",
  },
];

export const generateMockTrials = (mode: "comfortable" | "fast"): TrialResult[] => {
  const baseTime = mode === "comfortable" ? 14.5 : 11.2;
  return [
    {
      trialNumber: 1,
      mode,
      time: baseTime + (Math.random() - 0.5) * 2,
      speed: 10 / (baseTime + (Math.random() - 0.5) * 2),
      stepCount: mode === "comfortable" ? 18 : 16,
      cadence: mode === "comfortable" ? 88 : 108,
      strideLength: 0.55,
      isValid: true,
    },
    {
      trialNumber: 2,
      mode,
      time: baseTime + (Math.random() - 0.5) * 2,
      speed: 10 / (baseTime + (Math.random() - 0.5) * 2),
      stepCount: mode === "comfortable" ? 17 : 15,
      cadence: mode === "comfortable" ? 86 : 106,
      strideLength: 0.56,
      isValid: true,
    },
    {
      trialNumber: 3,
      mode,
      time: baseTime + (Math.random() - 0.5) * 2,
      speed: 10 / (baseTime + (Math.random() - 0.5) * 2),
      stepCount: mode === "comfortable" ? 18 : 16,
      cadence: mode === "comfortable" ? 87 : 107,
      strideLength: 0.54,
      isValid: true,
    },
  ];
};
